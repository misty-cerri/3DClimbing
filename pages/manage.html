
<div ng-controller="UserController as uc">

    <div class="row">
        <div class="col-md-5 col-sm-5 col-xs-5 col-md-offset-1 col-sm-offset-1 col-xs-offset-1">
            <div class="input-group">
                <!--<span class="input-group-addon">Filtra</span>-->
                <input type="text" class="form-control" placeholder="Digita una parte del nome" ng-model="searchText" >
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" ng-click="uc.refreshList()">Cerca</button>
                  </span>
            </div>
        </div>
        <div class="col-md-1 col-sm-1 col-xs-1 col-md-offset-1 col-sm-offset-1 col-xs-offset-1">
            <div class="btn-group">
                <button type="button" class="btn btn-default" ng-click="uc.newUser()">
                    Nuovo utente
                </button>
            </div>
            <!--<button type="button" class="btn btn-default" ng-click=""><span class="glyphicon glyphicon-plus-sign"></span>Aggiungi utente</button>-->
        </div>

    </div>

    <div class="row"></div>
    <div class="row">&nbsp;</div>
    <div class="row"></div>

    <div class="row">

        <div class="col-md-10 col-sm-10 col-xs-10 col-md-offset-1 col-sm-offset-1 col-xs-offset-1">
            <table class="table table-striped table-bordered">
                <tr>
                    <th>Tessera</th>
                    <th>Nome</th>
                    <th>Cognome</th>
                    <th>Terven</th>
                    <th>CAI</th>
                    <th>3D</th>
                    <th>Abbonamento</th>
                    <th>Prova disponibile</th>
                    <th></th>
                    <th></th>
                    <th></th>
                    <th></th>
                </tr>
                <!--<tr ng-repeat="u in users | filter:searchText | orderBy: 'code':false" >-->
                <tr ng-repeat="u in users | orderBy: 'code':false" >
                    <td>{{u.code}}</td>
                    <td>{{u.name}}</td>
                    <td>{{u.surname}}</td>
                    <!--<td><span ng-if="uc.checkTervenDate(u.tervenDate)" class="glyphicon glyphicon glyphicon-ok"></span></td>-->
                    <td ng-if="uc.checkTervenDate(u.tervenDate)" class="success"><span class="glyphicon glyphicon glyphicon-ok"></span></td>
                    <td ng-if="!uc.checkTervenDate(u.tervenDate)" class="danger"><span class="glyphicon glyphicon glyphicon-remove"></span></td>

                    <td ng-if="uc.checkCaiDate(u.caiDate)" class="success"><span class="glyphicon glyphicon glyphicon-ok"></span></td>
                    <td ng-if="!uc.checkCaiDate(u.caiDate)" class="danger"><span class="glyphicon glyphicon glyphicon-remove"></span></td>

                    <td ng-if="uc.checkClimbDate(u.climbDate)" class="success"><span class="glyphicon glyphicon glyphicon-ok"></span></td>
                    <td ng-if="!uc.checkClimbDate(u.climbDate)" class="danger"><span class="glyphicon glyphicon glyphicon-remove"></span></td>

                    <td ng-if="uc.checkSubscriptionDate(u.subscriptionDate)" class="success"><span class="glyphicon glyphicon glyphicon-ok"></span></td>
                    <td ng-if="!uc.checkSubscriptionDate(u.subscriptionDate)" class="danger"><span class="glyphicon glyphicon glyphicon-remove"></span></td>

                    <td ng-if="uc.checkFreeTrialDate(u.freeTrialDate)" class="success"><b>Si</b></td>
                    <td ng-if="!uc.checkFreeTrialDate(u.freeTrialDate)" class="danger"><b>No</b></td>

                    <td>
                        <a class="btn btn-xs" ng-click="uc.editUser(u)"><span class="glyphicon glyphicon-indent-left"> Dettaglio</span> </a>
                    </td>
                    <td>
                        <a class="btn btn-xs" ng-click="uc.deleteUser(u.key)"><span class="glyphicon glyphicon-remove-circle"> Elimina</span> </a>
                    </td>
                    <td>
                        <a class="btn btn-xs" ng-click="uc.openModalAccesses(u)"><span class="glyphicon glyphicon-transfer"> Accessi</span> </a>
                    </td>
                    <td>
                        <a class="btn btn-xs" ng-click="uc.openModalPayments(u)"><span class="glyphicon glyphicon glyphicon-euro"> Pagamenti</span> </a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>